# Marginalia 浮签

在 Obsidian 状态栏显示格言、名言或自定义文本的插件。

## 功能特性

- 📝 **多种数据源**：支持一言 API 和本地自定义列表
- 🔄 **自动刷新**：可配置自动刷新间隔（1-60分钟）
- 🔀 **分类选择**：支持选择一言 API 的不同分类
- 📋 **自定义列表**：支持添加和管理本地格言列表
- 🖱️ **交互功能**：点击刷新，右键复制
- 📱 **跨平台支持**：同时支持桌面端和移动端

## 安装方法

### 方法一：从 Obsidian 社区插件市场安装（推荐）

1. 打开 Obsidian 设置
2. 点击「社区插件」
3. 关闭「安全模式」
4. 点击「浏览」
5. 搜索「Marginalia」
6. 点击「安装」
7. 安装完成后点击「启用」

### 方法二：手动安装

1. 下载最新版本的插件包
2. 解压到 Obsidian 库的 `.obsidian/plugins/` 目录下
3. 确保插件目录名称为 `marginalia`
4. 重启 Obsidian
5. 在「社区插件」设置中启用插件

## 配置说明

### 数据源设置

- **一言 API**：从一言 API 获取随机格言
- **本地自定义列表**：使用本地配置的格言列表

### 一言分类

可选择以下分类：

| 分类代码 | 分类名称 |
|---------|---------|
| a       | 动画     |
| b       | 漫画     |
| c       | 游戏     |
| d       | 文学     |
| e       | 原创     |
| f       | 网络     |
| g       | 其他     |
| h       | 影视     |
| i       | 诗词     |
| j       | 网易云   |
| k       | 哲学     |
| l       | 抖机灵   |

### 自定义格言格式

一行一条格言，支持以下格式：

```
内容
内容 | 来源
```

示例：
```
人生得意须尽欢，莫使金樽空对月。
天生我材必有用，千金散尽还复来。 | 李白《将进酒》
```

### 刷新设置

- **自动刷新**：开启或关闭自动刷新功能
- **刷新间隔**：设置自动刷新的时间间隔（1-60分钟）

## 使用说明

1. **查看格言**：状态栏会显示当前格言
2. **手动刷新**：点击状态栏格言即可刷新
3. **复制格言**：右键点击状态栏格言可复制到剪贴板
4. **修改配置**：在 Obsidian 设置中找到「Marginalia 浮签设置」进行配置

## 开发说明

### 环境要求

- Node.js 16+
- npm 或 yarn

### 开发命令

```bash
# 安装依赖
npm install

# 开发模式（自动编译）
npm run dev

# 构建生产版本
npm run build
```

### 项目结构

```
Marginalia/
├── src/
│   ├── services/          # 服务层
│   │   ├── hitokoto.ts    # 一言 API 服务
│   │   └── quoteManager.ts # 格言管理服务
│   ├── ui/                # UI 组件
│   │   └── statusBar.ts   # 状态栏组件
│   ├── main.ts            # 插件主类
│   └── settings.ts        # 设置和配置
├── main.js                # 编译后的入口文件
├── manifest.json          # 插件清单
├── styles.css             # 插件样式
└── package.json           # 项目配置
```

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

## 联系方式

作者：Your Name

GitHub：https://github.com/yourusername

## 更新日志

### v1.0.0
- 初始版本
- 支持一言 API 和本地自定义列表
- 支持自动刷新和手动刷新
- 支持点击刷新和右键复制功能
- 支持多种一言分类选择
